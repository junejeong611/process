{"ast":null,"code":"var _jsxFileName = \"C:\\\\src\\\\client\\\\src\\\\components\\\\profile\\\\UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAuth, updatePassword, reauthenticateWithCredential, EmailAuthProvider } from 'firebase/auth';\nimport { getFirestore, doc, getDoc, updateDoc } from 'firebase/firestore';\nimport './UserProfile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfile = () => {\n  _s();\n  // User data state\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n\n  // Password change states\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  // UI states\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n\n  // Load user data\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const auth = getAuth();\n        const currentUser = auth.currentUser;\n        if (currentUser) {\n          setUser(currentUser);\n          setEmail(currentUser.email);\n\n          // Try to get additional profile data from Firestore\n          const db = getFirestore();\n          const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\n          if (userDoc.exists()) {\n            const userData = userDoc.data();\n            setName(userData.name || '');\n          }\n        }\n      } catch (err) {\n        console.error('Error fetching user data:', err);\n        setError('Failed to load profile data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserData();\n  }, []);\n\n  // Handle profile update\n  const handleUpdateProfile = async e => {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    setLoading(true);\n    try {\n      // Update user name in Firestore\n      if (user) {\n        const db = getFirestore();\n        await updateDoc(doc(db, 'users', user.uid), {\n          name: name\n        });\n        setMessage('Profile updated successfully');\n        setIsEditing(false);\n      }\n    } catch (err) {\n      console.error('Error updating profile:', err);\n      setError('Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle password change\n  const handlePasswordChange = async e => {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n\n    // Validate passwords\n    if (newPassword !== confirmPassword) {\n      setError('New passwords do not match');\n      return;\n    }\n    if (newPassword.length < 8) {\n      setError('Password must be at least 8 characters long');\n      return;\n    }\n    setLoading(true);\n    try {\n      const auth = getAuth();\n      const currentUser = auth.currentUser;\n\n      // Re-authenticate user before password change\n      const credential = EmailAuthProvider.credential(currentUser.email, currentPassword);\n      await reauthenticateWithCredential(currentUser, credential);\n\n      // Update password\n      await updatePassword(currentUser, newPassword);\n\n      // Clear form\n      setCurrentPassword('');\n      setNewPassword('');\n      setConfirmPassword('');\n      setMessage('Password updated successfully');\n    } catch (err) {\n      console.error('Error changing password:', err);\n      if (err.code === 'auth/wrong-password') {\n        setError('Current password is incorrect');\n      } else {\n        setError('Failed to change password');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading && !user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading profile...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Account Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpdateProfile,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            type: \"email\",\n            value: email,\n            disabled: true,\n            className: \"disabled-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Email cannot be changed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            children: loading ? 'Saving...' : 'Save Changes'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsEditing(false),\n            className: \"cancel-button\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info-label\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info-value\",\n            children: name || 'Not set'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info-label\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"info-value\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(true),\n          className: \"edit-button\",\n          children: \"Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePasswordChange,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"current-password\",\n            children: \"Current Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"current-password\",\n            type: \"password\",\n            value: currentPassword,\n            onChange: e => setCurrentPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"new-password\",\n            children: \"New Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"new-password\",\n            type: \"password\",\n            value: newPassword,\n            onChange: e => setNewPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirm-password\",\n            children: \"Confirm New Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"confirm-password\",\n            type: \"password\",\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Updating...' : 'Change Password'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-section danger-zone\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Danger Zone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-account-button\",\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"danger-note\",\n        children: \"This action cannot be undone. All your data will be permanently deleted.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfile, \"Sz/s/il/ScXbliykcZaTeGA+cT8=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","getAuth","updatePassword","reauthenticateWithCredential","EmailAuthProvider","getFirestore","doc","getDoc","updateDoc","jsxDEV","_jsxDEV","UserProfile","_s","user","setUser","email","setEmail","name","setName","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","message","setMessage","isEditing","setIsEditing","fetchUserData","auth","currentUser","db","userDoc","uid","exists","userData","data","err","console","handleUpdateProfile","e","preventDefault","handlePasswordChange","length","credential","code","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","type","value","onChange","target","required","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/src/client/src/components/profile/UserProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAuth, updatePassword, reauthenticateWithCredential, EmailAuthProvider } from 'firebase/auth';\r\nimport { getFirestore, doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport './UserProfile.css';\r\n\r\nconst UserProfile = () => {\r\n  // User data state\r\n  const [user, setUser] = useState(null);\r\n  const [email, setEmail] = useState('');\r\n  const [name, setName] = useState('');\r\n  \r\n  // Password change states\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  \r\n  // UI states\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  \r\n  // Load user data\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        const auth = getAuth();\r\n        const currentUser = auth.currentUser;\r\n        \r\n        if (currentUser) {\r\n          setUser(currentUser);\r\n          setEmail(currentUser.email);\r\n          \r\n          // Try to get additional profile data from Firestore\r\n          const db = getFirestore();\r\n          const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\r\n          \r\n          if (userDoc.exists()) {\r\n            const userData = userDoc.data();\r\n            setName(userData.name || '');\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching user data:', err);\r\n        setError('Failed to load profile data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchUserData();\r\n  }, []);\r\n  \r\n  // Handle profile update\r\n  const handleUpdateProfile = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setMessage('');\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Update user name in Firestore\r\n      if (user) {\r\n        const db = getFirestore();\r\n        await updateDoc(doc(db, 'users', user.uid), {\r\n          name: name\r\n        });\r\n        \r\n        setMessage('Profile updated successfully');\r\n        setIsEditing(false);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating profile:', err);\r\n      setError('Failed to update profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Handle password change\r\n  const handlePasswordChange = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setMessage('');\r\n    \r\n    // Validate passwords\r\n    if (newPassword !== confirmPassword) {\r\n      setError('New passwords do not match');\r\n      return;\r\n    }\r\n    \r\n    if (newPassword.length < 8) {\r\n      setError('Password must be at least 8 characters long');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    try {\r\n      const auth = getAuth();\r\n      const currentUser = auth.currentUser;\r\n      \r\n      // Re-authenticate user before password change\r\n      const credential = EmailAuthProvider.credential(\r\n        currentUser.email,\r\n        currentPassword\r\n      );\r\n      \r\n      await reauthenticateWithCredential(currentUser, credential);\r\n      \r\n      // Update password\r\n      await updatePassword(currentUser, newPassword);\r\n      \r\n      // Clear form\r\n      setCurrentPassword('');\r\n      setNewPassword('');\r\n      setConfirmPassword('');\r\n      \r\n      setMessage('Password updated successfully');\r\n    } catch (err) {\r\n      console.error('Error changing password:', err);\r\n      \r\n      if (err.code === 'auth/wrong-password') {\r\n        setError('Current password is incorrect');\r\n      } else {\r\n        setError('Failed to change password');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  if (loading && !user) {\r\n    return <div className=\"loading\">Loading profile...</div>;\r\n  }\r\n  \r\n  return (\r\n    <div className=\"user-profile\">\r\n      <h2>Your Profile</h2>\r\n      \r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      {message && <div className=\"success-message\">{message}</div>}\r\n      \r\n      <div className=\"profile-section\">\r\n        <h3>Account Information</h3>\r\n        \r\n        {isEditing ? (\r\n          <form onSubmit={handleUpdateProfile}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"name\">Full Name</label>\r\n              <input\r\n                id=\"name\"\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                value={email}\r\n                disabled\r\n                className=\"disabled-input\"\r\n              />\r\n              <small>Email cannot be changed</small>\r\n            </div>\r\n            \r\n            <div className=\"form-actions\">\r\n              <button type=\"submit\" disabled={loading}>\r\n                {loading ? 'Saving...' : 'Save Changes'}\r\n              </button>\r\n              <button \r\n                type=\"button\" \r\n                onClick={() => setIsEditing(false)}\r\n                className=\"cancel-button\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <div className=\"profile-info\">\r\n            <div className=\"info-row\">\r\n              <span className=\"info-label\">Name:</span>\r\n              <span className=\"info-value\">{name || 'Not set'}</span>\r\n            </div>\r\n            <div className=\"info-row\">\r\n              <span className=\"info-label\">Email:</span>\r\n              <span className=\"info-value\">{email}</span>\r\n            </div>\r\n            <button \r\n              onClick={() => setIsEditing(true)}\r\n              className=\"edit-button\"\r\n            >\r\n              Edit Profile\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"profile-section\">\r\n        <h3>Change Password</h3>\r\n        <form onSubmit={handlePasswordChange}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"current-password\">Current Password</label>\r\n            <input\r\n              id=\"current-password\"\r\n              type=\"password\"\r\n              value={currentPassword}\r\n              onChange={(e) => setCurrentPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"new-password\">New Password</label>\r\n            <input\r\n              id=\"new-password\"\r\n              type=\"password\"\r\n              value={newPassword}\r\n              onChange={(e) => setNewPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"confirm-password\">Confirm New Password</label>\r\n            <input\r\n              id=\"confirm-password\"\r\n              type=\"password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Updating...' : 'Change Password'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      \r\n      <div className=\"profile-section danger-zone\">\r\n        <h3>Danger Zone</h3>\r\n        <button className=\"delete-account-button\">Delete Account</button>\r\n        <p className=\"danger-note\">This action cannot be undone. All your data will be permanently deleted.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}